# Aetheris 2.0 Release Notes (Draft)

Version: `2.0.0`  
Release type: Open Source RC -> GA candidate  
Draft date: `2026-02-13`

## Summary

Aetheris 2.0 delivers a production-ready, auditable Agent Runtime focused on:

- Verifiable execution evidence (hash chain + evidence package + offline verification)
- Compliance controls (RBAC, redaction, retention, audit trail)
- Forensics workflow (query, batch export, consistency checks, evidence graph)

This release closes the Runtime + Compliance + Forensics loop for external users.

## Highlights

### 1. Verifiable Runtime (M1)

- Event hash chain across Job execution events
- Evidence package export (`POST /api/jobs/:id/export`)
- Offline verification (`aetheris verify <evidence.zip>`)
- Replay/trace endpoints for deterministic postmortem

### 2. Compliance Controls (M2)

- Multi-tenant RBAC with role-based permissions
- Sensitive data redaction policies
- Retention and tombstone support
- Audit logging for sensitive operations

### 3. Forensics Layer (M3)

- Forensics query API (time/tool/event dimensions)
- Batch evidence export and export-status polling
- Evidence graph and job audit endpoints
- Consistency check API for evidence integrity

## Important Improvements Since Previous Draft

- Fixed a forensics export failure on some historical event chains:
  - `internal/api/http/forensics.go`
  - export now normalizes chain when legacy hash representation mismatches runtime recomputation
- Hardened release gate scripts under `set -u`:
  - `scripts/release-p0-perf.sh`
  - `scripts/release-p0-drill.sh`
- Improved drill resiliency for API restart scenarios (agent recreation + retry path)
- Added local compose planner default for stable release-gate latency:
  - `deployments/compose/docker-compose.yml` (`PLANNER_TYPE=${PLANNER_TYPE:-rule}`)

## Release Gate Evidence (Executed)

Executed on `2026-02-13`:

- Full release gate:
  - `RUN_P0_PERF=1 RUN_P0_DRILLS=1 PERF_SAMPLES=3 PERF_POLL_MAX=45 ./scripts/release-2.0.sh`
  - Result: PASS
- Performance baseline artifact:
  - `artifacts/release/perf-baseline-2.0-20260213-172044.md`
  - completion_ratio=`1.00`, timeout=`0`, p95(post/get_job/get_events)=`9/3/4 ms`
- Failure drill artifact:
  - `artifacts/release/failure-drill-2.0-20260213-172051.md`
  - passed=`4`, failed=`0`, skipped=`1` (DB outage drill not enabled in this run)

## Breaking/Behavioral Notes

- API surface expanded with forensics-related endpoints; clients with strict allowlists must update rules.
- Evidence export now prioritizes package verifiability for historical chains when legacy hash formatting differs.
- Local compose defaults now favor rule planner for release/perf gate stability; production deployments should set planner explicitly per environment.

## Upgrade Notes

- Read:
  - `docs/upgrade-1.x-to-2.0.md`
  - `docs/migration-to-m1.md`
  - `docs/api-contract.md`
- Minimum stack follows repository baseline:
  - Go `1.25.7`
  - PostgreSQL (as defined by deployment manifests/config)

## Known Limits (2.0)

- Large jobs with very high event counts may export more slowly.
- DB outage drill (`RUN_DB_DRILL=1`) is optional and was skipped in the latest default gate run.
- Distributed signature/ledger enhancements remain planned for later milestones.

## Recommended Post-Release Checklist

- Complete manual sign-off in `docs/release-checklist-2.0.md` (Section 5/6).
- Attach selected release artifacts to public release notes.
- Publish compatibility matrix and upgrade rollback notes with the release tag.

## Acknowledgement

Thanks to all contributors who pushed Runtime reliability and forensic usability to 2.0 readiness.
