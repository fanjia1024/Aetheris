# 2.0 Capability Matrix — 能力矩阵

本表从「生产级 Runtime → 平台级 Runtime → 基础设施级 Runtime」视角整理 Aetheris 各能力维度的当前状态、成熟度、2.0 目标与依赖。用于对外沟通与路线对齐。参见 [design/aetheris-2.0-overview.md](../design/aetheris-2.0-overview.md)。

---

## 能力维度 × 当前 / 成熟度 / 2.0 目标 / 依赖

| 能力维度 | 当前状态 | 成熟度 (1–10) | 2.0 目标 | 依赖 |
|----------|-----------|----------------|----------|------|
| **Durable execution** | 已有 | 9/10 | 保持；可选 event 压缩与归档 | JobStore (Postgres)、Event Store、Checkpoint |
| **Deterministic replay** | 已有 | 9/10 | 保持；Replay proof 可验证 | 事件流、ReplayContextBuilder、Effect Store |
| **At-most-once tool** | 已有 | 9/10 | 保持；Ledger proof 可验证 | InvocationLedger、ToolInvocationStore、事件流 |
| **Auditability** | 已有 | 8/10 | Trace 2.0、Evidence graph、事件链密封 | 事件流、Trace API、Verification Mode |
| **Distributed worker** | 部分 | 7/10 | 压力测试与 benchmark 验证 | JobStore、租约、attempt_id、Ledger 共享 |
| **Verification Mode** | 已有 | 7/10 | 保持；可选事件链签名校验 | 事件流、verify 包、ReplayContextBuilder |
| **Formal state machine** | 已有（文档） | 8/10 | 保持；与 DeriveStatusFromEvents 一致 | [design/formal-state-machine.md](../design/formal-state-machine.md) |
| **Failure matrix** | 已有（文档） | 8/10 | 保持 | [design/failure-matrix.md](../design/failure-matrix.md) |
| **Multi-tenant** | 无 | 2/10 | Phase 4：Namespace、Tenant ID、Quota | JobStore/API 扩展、agent-instance tenant_id |
| **Security model** | 部分 | 3/10 | Capability policy 已实现；Sandbox、审计密封 | capability-policy、事件链签名 |
| **Resource isolation** | 无 | 2/10 | 2.0 中后期：per-tenant rate limit、隔离 | 多租户、Scheduler/API 扩展 |
| **Benchmark proof** | 部分 | 5/10 | benchmark/ 压力与并发测试 | 无新增依赖 |
| **Platform DX** | 部分 | 6/10 | Dev mode、aetheris debug、verify | CLI、Trace、Verify API |
| **Event chain sealing** | 无 | 0/10 | 2.0 延伸：root 签名、公钥校验 | Verification Mode、design/event-chain-sealing.md |

---

## 说明

- **成熟度**：基于「生产可用 / 文档完整 / 可验证」综合判断；10 = 完全满足基础设施级。
- **2.0 目标**：已有能力以「保持」或「增强」为主；无/部分能力标注阶段或设计文档。
- **依赖**：实现或验证该能力所依赖的组件或文档。

---

## 参考

- [design/aetheris-2.0-overview.md](../design/aetheris-2.0-overview.md) — 2.0 功能模块与阶段
- [docs/runtime-guarantees.md](runtime-guarantees.md) — 运行时保证与 Verification Mode
- [design/verification-mode.md](../design/verification-mode.md) — Verification 协议
